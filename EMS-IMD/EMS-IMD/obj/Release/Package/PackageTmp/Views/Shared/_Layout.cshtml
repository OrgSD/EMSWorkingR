<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> @Session["SolutionPrefix"] @Session["SolutionSuffix"]| @Session["SolutionTitlePrefix"] @Session["SolutionTitleSuffix"]</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.6 -->

    <link href="~/AdminLTE/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <!-- Font Awesome -->

    <link href="~/AdminLTE/download/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />
    <!-- Ionicons -->
    <link rel="stylesheet" href="~/AdminLTE/download/ionicons.min.css">
    <!-- Theme style -->
    <link href="~/AdminLTE/dist/css/AdminLTE.css" rel="stylesheet" />

    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="~/AdminLTE/dist/css/skins/_all-skins.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/iCheck/flat/blue.css">
    <!-- Morris chart -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/morris/morris.css">
    <!-- jvectormap -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/jvectormap/jquery-jvectormap-1.2.2.css">
    <!-- Date Picker -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/datepicker/datepicker3.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/daterangepicker/daterangepicker.css">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">

</head>
<!--<<body class="hold-transition skin-blue sidebar-mini">-->
<body class="sidebar-mini skin-blue-light">
    <div class="wrapper">
        <header class="main-header">
            <!-- Logo -->
            <a href="/Home/frmHome" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><b>@Session["SolutionTitlePrefix"] </b>@Session["SolutionTitleSuffix"] </span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><b>@Session["SolutionPrefix"] </b>@Session["SolutionSuffix"]</span>
            </a>
            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top">
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <li class="dropdown messages-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">                            
                                @*<i class="fa fa-align-left"><b> @Session["OwnerName"] </b></i>*@
                                <i class="fa"><b> @Session["OwnerName"] </b></i>
                            </a>
                        </li>
                        <!-- User Account: style can be found in dropdown.less -->
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="~/AdminLTE/dist/img/user2-160x160.jpg" class="user-image" alt="User Image">
                                <span class="hidden-xs">@Session["DeUserID"]</span>
                            </a>
                            <ul class="dropdown-menu">
                                <!-- User image -->
                                <li class="user-header">
                                    <img src="~/AdminLTE/dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
                                    <p>
                                        @Session["Designation"]
                                        <small>Member since @Session["EmploymentDate"]</small>
                                    </p>
                                </li>
                                <!-- Menu Footer-->
                                <li class="user-footer">
                                    <div class="pull-left">
                                        @*<a href="#" class="btn btn-default btn-flat">Profile</a>*@
                                    </div>
                                    <div class="pull-right">
                                        <a href="/LoginRegistration/Index" class="btn btn-default btn-flat">Sign out</a>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <!-- Control Sidebar Toggle Button -->
                        <li>
                            <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>        
        <div class="main-sidebar">
            <!-- Inner sidebar -->
            <div class="sidebar">
                <!-- user panel (Optional) -->
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="~/AdminLTE/dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info">
                        @*<p>@Session["DeUserID"]</p>*@
                        <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                    </div>
                </div><!-- /.user-panel -->
                <!-- Search Form (Optional) -->
                <form action="#" method="get" class="sidebar-form">
                    <div class="input-group">
                        <input type="text" name="q"  class="form-control search-menu-box" placeholder="Search..." />
                        @*<span class="input-group-btn">
                            <button type='submit' name='search' id='search-btn' class="btn btn-flat"><i class="fa fa-search"></i></button>
                        </span>*@
                    </div>
                </form><!-- /.sidebar-form -->
                <!-- Sidebar Menu -->



                <ul class="sidebar-menu"  style="background-color:#FFFFFF">
                    <li class="active treeview">
                        <!-- add in line css for white color -->
                        <a href="#" class="bg-gray-active">
                            <i class="glyphicon glyphicon-picture"></i> <span>Menu Items</span> <i class="fa fa-angle-left pull-right "></i>
                        </a>
                        <ul class="treeview-menu" id="MenuItem"></ul>
                    </li>
                </ul>
            </div><!-- /.sidebar -->
        </div><!-- /.main-sidebar -->
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header animated rotateInDownLeft">
                <h1>
                    <span class="glyphicon glyphicon-list-alt"></span>
                    <span class="glyphicon-class">@Session["FormName"]</span>
                    <small>@Session["Preview"]</small>
                </h1>
                <ol class="breadcrumb">
                    <li><a href="/Home/frmHome"><span class="glyphicon glyphicon-home"></span> <span class="glyphicon-class">Home</span></a></li>
                    <li class="active">@Session["FormName"]</li>
                </ol>
            </section>
            <!-- Main content -->
            <section class="content animated slideInLeft">
                <!-- Small boxes (Stat box) -->
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class="box box-primary">
                            <div class="box-body">
                                @RenderBody()                            
                            </div>


                            <div class="row">
                                <input type="hidden" id="HiddenID" />
                                <input type="text" id="TextID" />
                                <textarea id="TextareaID"></textarea>
                                <select id="SelectID">
                                    <option value="Active">Active</option>
                                    <option value="Inactive">Inactive</option>
                                </select>
                                <input type="checkbox" id="CheckBoxID">
                            </div>

                        </div>
                    </div>
                </div>
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->
        <footer class="main-footer">
            <div class="pull-right hidden-xs">
                <img src="~/AdminLTE/dist/img/sil_logo.png" class="user-image" alt="User Image">
            </div>
            <img src="~/AdminLTE/dist/img/spl_logo.jpg" class="user-image" alt="User Image">
        </footer>   

        <!--<aside class="control-sidebar control-sidebar-dark">-->
        <aside class="control-sidebar bg-light-blue-gradient">
            <!-- Create the tabs -->
            <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
                <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
                <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content">
                <div class="tab-pane" id="control-sidebar-home-tab">
                    <h3 class="control-sidebar-heading">Recent Activity</h3>
                </div>
                <!-- <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div> -->
                <div class="tab-pane" id="control-sidebar-settings-tab">
                    <h3 class="control-sidebar-heading">General Setting</h3>
                </div>
            </div>
        </aside>







        <!-- /.control-sidebar -->
        <!-- Add the sidebar's background. This div must be placed
             immediately after the control sidebar -->
        <div class="control-sidebar-bg"></div>
    </div>
    <!-- ./wrapper -->
    <!-- jQuery 2.2.3 -->
    <script src="~/AdminLTE/plugins/jQuery/jquery-2.2.3.min.js"></script>


    <!-- jQuery UI 1.11.4 -->

    <script src="~/AdminLTE/plugins/jQueryUI/jquery-ui.min.js"></script>

    <link href="~/Content/MaskedDatePicker/jquery-ui.css" rel="stylesheet" />
    <script src="~/Content/MaskedDatePicker/jquery-ui.js"></script>


    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
        $.widget.bridge('uibutton', $.ui.button);
        
        $("#MenuItem").on("click", ".treeview-menu .treeview-menu .treeview", function (e) {
           // e.preventDefault();
            var MenuName = $(this).contents().filter(function () {
                return !!$.trim(this.innerHTML || this.data);
            }).first().text();
            
            $.ajax({
                url: "/Home/GetForm",
                type: 'POST',
                data: JSON.stringify({ FormName: MenuName }),
                contentType: "application/json; charset=utf-8",
                dataType: "JSON",
                success: function (data) {
                    if (data != "") {
                    }
                }
            }); //End of ajax call
            // localStorage['FormName'] = categoryName;
        });

       
      
        $(".search-menu-box").on('input', function () {           
            var url =  window.location;           
           //  for sidebar menu entirely but not cover treeview
            $('ul.sidebar-menu a').filter(function () {
                return this.href == url;
            }).parent().addClass('active');

            // for treeview
            $('ul.treeview-menu a').filter(function () {
                return this.href == url;
            }).parentsUntil(".sidebar-menu > .treeview-menu").addClass('active');
        });




        function buildMenu(divId, items) {
            $.each(items, function (i, data) {
                var li = $('<li class="treeview"><a href="' + this.FormURL + '" ><i class="fa fa-th"></i><span>' + this.MenuName + '</span></a>');
                li.appendTo(divId);
                if (this.MenuItemList && this.MenuItemList.length > 0) {
                    var ul = $('<ul class="treeview-menu"></ul>');
                    ul.appendTo(li);
                    buildMenu(ul, this.MenuItemList);
                }
            });
        }

        $.ajax({
            url: "/Home/LoadMenu",
            method: 'GET',
            dataType: "JSON",
            success: function (data) {
                buildMenu($('#MenuItem'), data);
            }
        });

        $("input[type=text]").focus(function () {
            ClearBorderRequiredMsg();
        });
        //$(document).click(function (e) {
        //    alert("Okay");
        //});
        $("select").on("click", function () {
            ClearBorderRequiredMsg();
        });
        $("textarea").on("click", function () {
            ClearBorderRequiredMsg();
        });


        //$("#ToDate").datepicker({ dateFormat: 'dd/mm/yy' }).datepicker('setDate', new Date());
        //$("#FromDate").datepicker({ dateFormat: 'dd/mm/yy' }).datepicker('setDate', new Date());


        var currentDate = new Date();
        var dateInmmddyyyy = (currentDate.getDate() + 1) + '/' + (currentDate.getMonth() + 1) + '/' + currentDate.getFullYear();
        $(".date").datepicker({ changeMonth: true, changeYear: true, dateFormat: 'dd-mm-yy' }).datepicker('setDate', new Date());
        $(".addOneDay").datepicker({ changeMonth: true, changeYear: true, dateFormat: 'dd-mm-yy' }).datepicker('setDate', dateInmmddyyyy);
        $(".dateWithoutImg").datepicker({ changeMonth: true, changeYear: true, dateFormat: 'dd-mm-yy' });
        $(".dateWithImg").datepicker({ prevText: "<", nextText: ">", changeMonth: true, changeYear: true, showOn: 'both', buttonImage: 'http://jqueryui.com/resources/demos/datepicker/images/calendar.gif', buttonImageOnly: true, showAnim: 'slideDown', duration: 'fast', dateFormat: 'dd/mm/yy' });


     

        //session end
        var sessionTimeoutWarning = @Session.Timeout -1;
        var sTimeout = parseInt(sessionTimeoutWarning) * 60 * 1000;
        setTimeout('SessionEnd()', sTimeout);
        function SessionEnd() {
            window.location = "/LoginRegistration/Index";
        }
      

        $("#HiddenID").hide();
        $("#TextID").hide();
        $("#TextareaID").hide();
        $("#SelectID").hide();
        $("#CheckBoxID").hide();
        

   
    

        
        //function disableBack()
        //{
        //    window.history.forward()
        //}
        //window.onload = disableBack();        
        //window.onpageshow = function (evt)
        //{      
        //    if (evt.persisted) disableBack()
        //}
        



        //if (window.history && window.history.pushState) {
        //    //window.history.pushState(‘forward’, null, ‘./#forward’);

        //    var Host = window.location.host + "/Home/frmHome";
        //    $(window).on('popstate', function() {
        //        var historyObj = window.history;
        //        if (location.href = Host) {
        //            history.go(-1);
        //        }
        //        else
        //        {
        //            alert("Okay");
        //        }
        //    });
        //}



            //$(window).on("navigate", function (event, data) {
            //    var direction = data.state.direction;
            //    if (direction == 'back') {
            //        alert("Okay");

            //    }         
        //});
        


        //$(window).on('popstate', function (event) {
        //    alert("pop");
        //});


        
        /*
        $(function () {
            if (window.history && window.history.pushState) {

               // window.history.pushState('', null, './');
                window.history.pushState(null, null, $(location).attr('href'));

                $(window).on('popstate', function () {
                    var Host1 = window.location.host + "/Home/frmHome";
                    var Host2 = window.location.host + "/Home/frmHome/";
                    var Host3 = window.location.host + "/Home";
                    var Host4 = window.location.host + "/Home/";
                    alert(document.location.href);
                    if (document.location.href == Host1 || document.location.href == Host2 || document.location.href == Host3 || document.location.href == Host4) {
                        alert("Okay");
                    }
                    else {
                        $(window).on("navigate", function (event, data) {
                            var direction = data.state.direction;
                            if (direction == 'back') {                           

                            }         
                        });
                       
                    }
                  

                });
            }
        });
        */

        /*
        if (window.history && window.history.pushState) {
            $(window).on('popstate', function () {
                var hashLocation = location.hash;
                var hashSplit = hashLocation.split("#!/");
                var hashName = hashSplit[1];

                if (hashName !== '') {
                    var hash = window.location.hash;
                    if (hash === '') {
                        alert('Back button was pressed.');
                    }
                }
            });

            window.history.pushState('forward', null, './#forward');
        }*/

        /*
        if (window.history && window.history.pushState) {

               // window.history.pushState('', null, './');
                $(window).on('popstate', function () {                
                    var Host = window.location.host + "/Home/frmHome";
                    alert(Host);
                    var HomePath = location.href;
                    alert(HomePath)
                    if (HomePath == Host) {
                     
                        document.location.href = Host;
                    }
                    else
                    {
                        window.history.back();
                     
                    }            
                });
            }
            
            */




    </script>

   
    <!-- Bootstrap 3.3.6 -->
    <script src="~/AdminLTE/bootstrap/js/bootstrap.min.js"></script>
    <!-- Morris.js charts -->
    <script src="~/AdminLTE/download/raphael-min.js"></script>
    <script src="~/AdminLTE/plugins/morris/morris.min.js"></script>
    <!-- Sparkline -->
    <script src="~/AdminLTE/plugins/sparkline/jquery.sparkline.min.js"></script>
    <!-- jvectormap -->
    <script src="~/AdminLTE/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="~/AdminLTE/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="~/AdminLTE/plugins/knob/jquery.knob.js"></script>
    <!-- daterangepicker -->
    <script src="~/AdminLTE/download/moment.min.js"></script>
    <script src="~/AdminLTE/plugins/daterangepicker/daterangepicker.js"></script>
    <!-- datepicker -->
    <script src="~/AdminLTE/plugins/datepicker/bootstrap-datepicker.js"></script>
    <!-- Bootstrap WYSIHTML5 -->
    <script src="~/AdminLTE/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
    <!-- Slimscroll -->
    <script src="~/AdminLTE/plugins/slimScroll/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <script src="~/AdminLTE/plugins/fastclick/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="~/AdminLTE/dist/js/app.min.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="~/AdminLTE/dist/js/pages/dashboard.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="~/AdminLTE/dist/js/demo.js"></script>

    <link href="~/Content/CustomCSS/animate.css" rel="stylesheet" />
    <link href="~/Content/kendo/kendo.blueopal.min.css" rel="stylesheet" />
    <link href="~/Content/kendo/kendo.common.min.css" rel="stylesheet" />
    <link href="~/Content/kendo/kendo.mobile.all.min.css" rel="stylesheet" />
    <link href="~/Content/kendo/kendo.rtl.min.css" rel="stylesheet" />
    <link href="~/Content/kendo/KendoGridHoverBlueColor.css" rel="stylesheet" />
    <script src="~/Scripts/kendo/kendo.all.min.js"></script>
    <script src="~/Scripts/kendo/jszip.min.js"></script>

    <script src="~/Scripts/CustomJS/AccessPermission.js"></script>
    <script src="~/Scripts/CustomJS/InputValidator.js"></script>
    <script src="~/Scripts/CustomJS/OperationalMessage.js"></script>
    <script src="~/Scripts/CustomJS/PopupWindow.js"></script>
    <script src="~/Scripts/CustomJS/ResetText.js"></script>
    <script src="~/Scripts/CustomJS/GridAction.js"></script>
    <script src="~/Scripts/CustomJS/DataBind.js"></script>
    <link href="~/Content/CSS/InputText.css" rel="stylesheet" />

    <link href="~/Scripts/BootstrapMultiselect/css/bootstrap-multiselect.css" rel="stylesheet" />
    <script src="~/Scripts/BootstrapMultiselect/js/bootstrap-multiselect.js"></script>

    <link href="~/AdminLTE/plugins/select2/select2.css" rel="stylesheet" />
    <script src="~/AdminLTE/plugins/select2/select2.full.js"></script>

    <script src="~/AdminLTE/plugins/select2/select2.js"></script>

</body>
</html>



